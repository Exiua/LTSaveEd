@page "/core"

@using LTSaveEd.Models

@inherits BasePage

@inject SaveData SaveData

<h3>Core</h3>

<MudCard>
    <MudForm>
        <MudCardContent>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <MudTextField @bind-Value="@CoreData.Id.Value" ReadOnly="true" Label="Id"/>
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <MudTextField @bind-Value="@CoreData.Name.Androgynous.Value" Label="Androgynous Name"/>
                <MudTextField @bind-Value="@CoreData.Name.Feminine.Value" Label="Feminine Name"/>
                <MudTextField @bind-Value="@CoreData.Name.Masculine.Value" Label="Masculine Name"/>
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <MudTextField @bind-Value="@CoreData.Name.Surname.Value" Label="Surname"/>
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <MudTextField @bind-Value="@CoreData.Description.Value" Label="Description" Lines="3" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <IntField Attribute="@CoreData.Level" Label="Level" />
                <IntField Attribute="@CoreData.Experience" Label="Experience" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <IntField Attribute="@Inventory.Money" Label="Money" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <MudDatePicker Label="Date of Birth" Editable="true" @bind-Date="@CoreData.DateOfBirth.Value" Placeholder="Select Date" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <ValueDisplayPairSelect Values="@AvailableJobs" Attribute="@CoreData.JobHistory" Label="Job History" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <ValueDisplayPairSelect Values="@CoreData.SexualOrientations" Attribute="@CoreData.SexualOrientation" Label="Sexual Orientations" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <FloatField Attribute="@CoreData.Obedience" Label="Obedience" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <ValueDisplayPairSelect Values="@CoreData.GenderIdentities" Attribute="@CoreData.GenderIdentity" Label="Gender Identity" />
             </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <IntField Attribute="@CoreData.PerkPoints" Label="Perk Points" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <IntField Attribute="@Inventory.EssenceCount" Label="Essence Count" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <FloatField Attribute="@CoreData.Health" Label="Health" />
            </MudPaper>
            <MudPaper Class="d-flex mr-10 pa-4" Elevation="0">
                <FloatField Attribute="@CoreData.Mana" Label="Mana" />
            </MudPaper>
        </MudCardContent>
    </MudForm>
</MudCard>

@code {
    private ValueDisplayPair[] AvailableJobs => SaveData.CurrentCharacter.IsPlayer
        ? CoreData.PlayerJobHistories
        : CoreData.NpcJobHistories;
    private Models.CharacterData.Core CoreData => SaveData.CurrentCharacter.Core;
    private Models.CharacterData.Inventory Inventory => SaveData.CurrentCharacter.Inventory;
}